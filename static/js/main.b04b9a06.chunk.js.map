{"version":3,"sources":["App.js","assets/4.mp3","assets/play.svg","assets/pause.svg","assets/prev.svg","assets/next.svg","reportWebVitals.js","index.js"],"names":["App","useState","isPlaying","setisPlaying","audCtrl","setaudCtrl","slider","setslider","horse","currentSong","setcurrentSong","songNumber","setsongNumber","apiBase","useEffect","document","getElementById","window","addEventListener","handleKeypress","onended","currentTime","console","log","e","key","pause","play","sleep","ms","Promise","resolve","setTimeout","ignite","a","glitchs","getElementsByClassName","i","length","glitch","style","left","Math","floor","random","top","width","height","backgroundPosition","handlePrev","axios","get","responseType","then","res","returnedB64","headers","Buffer","from","data","toString","src","handleNext","id","className","display","setInterval","value","duration","controls","type","min","max","defaultValue","onChange","parseFloat","prevBtn","onClick","pauseBtn","playBtn","nextBtn","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.b04b9a06.chunk.js","sourcesContent":["import horse from \"./assets/4.mp3\";\nimport \"./App.css\";\nimport playBtn from \"./assets/play.svg\";\nimport pauseBtn from \"./assets/pause.svg\";\nimport prevBtn from \"./assets/prev.svg\";\nimport nextBtn from \"./assets/next.svg\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nfunction App() {\n  const [isPlaying, setisPlaying] = useState(false);\n  const [audCtrl, setaudCtrl] = useState({});\n  const [slider, setslider] = useState({});\n  const [currentSong, setcurrentSong] = useState(horse);\n  const [songNumber, setsongNumber] = useState(1);\n  const apiBase = \"https://lofi-station-backend.herokuapp.com/\";\n  // const apiBase = \"http://localhost:8080/\";\n\n  useEffect(() => {\n    setaudCtrl(document.getElementById(\"aud\"));\n    setslider(document.getElementById(\"myRange\"));\n    window.addEventListener(\"keypress\", handleKeypress, false);\n    audCtrl.onended = function () {\n      audCtrl.currentTime = 0;\n      setisPlaying(false);\n      console.log('object')\n    };\n  }, []);\n\n  const handleKeypress = (e) => {\n    if (!(audCtrl && slider)) return;\n    if (e.key == \" \") {\n      if (!isPlaying) {\n        audCtrl.play();\n        setisPlaying(true);\n      } else {\n        audCtrl.pause();\n        setisPlaying(false);\n      }\n    }\n  };\n  const sleep = (ms) => {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  };\n  const ignite = async () => {\n    let glitchs = document.getElementsByClassName(\"box\");\n    let i = 0;\n    for (let i = 0; i < glitchs.length; i++) {\n      let glitch = glitchs[i];\n      glitch.style.left = Math.floor(Math.random() * (100 - 1 + 1)) + 1 + \"vw\";\n      glitch.style.top = Math.floor(Math.random() * (90 - 0 + 1)) + 0 + \"vh\";\n      glitch.style.width =\n        Math.floor(Math.random() * (400 - 10 + 1)) + 10 + \"px\";\n      glitch.style.height =\n        Math.floor(Math.random() * (100 - 1 + 1)) + 1 + \"px\";\n      glitch.style.backgroundPosition =\n        Math.floor(Math.random() * (100 - 10 + 1)) + 10 + \"px\";\n      await sleep(3000);\n    }\n  };\n\n  const handleSeek = (e) => {\n    audCtrl.currentTime = audCtrl.duration * (parseFloat(slider.value) / 100);\n  };\n\n  const handlePlay = () => {\n    audCtrl.play();\n    audCtrl && setisPlaying(true);\n  };\n  const handlePause = () => {\n    audCtrl.pause();\n    audCtrl && setisPlaying(false);\n  };\n  const handlePrev = async () => {\n    console.log(songNumber, \"songNumber before mutation\");\n    if (songNumber > 1) {\n      setsongNumber(songNumber - 1);\n      console.log(songNumber, \"if-songNumber-prev\");\n    } else {\n      setsongNumber(6);\n      console.log(songNumber, \"else-songNumber-prev\");\n    }\n\n    await axios\n      .get(`${apiBase}${songNumber}`, {\n        responseType: \"arraybuffer\",\n      })\n      .then((res) => {\n        let returnedB64 =\n          \"data:\" +\n          res.headers[\"content-type\"] +\n          \";base64,\" +\n          Buffer.from(res.data).toString(\"base64\");\n        setcurrentSong(returnedB64);\n        audCtrl.src = returnedB64;\n        audCtrl.play();\n        setisPlaying(true);\n      });\n  };\n\n  const handleNext = async () => {\n    console.log(\"mutating in nxt\");\n    if (songNumber < 6) {\n      setsongNumber(songNumber + 1);\n      console.log(songNumber, \"if-songNumber-nxt\");\n    } else {\n      setsongNumber(1);\n      console.log(songNumber, \"else-songNumber-nxt\");\n    }\n    await axios\n      .get(`${apiBase}${songNumber}`, {\n        responseType: \"arraybuffer\",\n      })\n      .then((res) => {\n        let returnedB64 =\n          \"data:\" +\n          res.headers[\"content-type\"] +\n          \";base64,\" +\n          Buffer.from(res.data).toString(\"base64\");\n        setcurrentSong(returnedB64);\n        audCtrl.src = returnedB64;\n        audCtrl.play();\n        setisPlaying(true);\n      });\n  };\n\n  return (\n    <>\n      <div id=\"glitchContainer\">\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n        <div className=\"box\"></div>\n      </div>\n      {/* below d-none is bcoz setIntervals id is printing on screen */}\n      <div style={{ display: \"none\" }}>\n        {setInterval(() => {\n          ignite();\n          if (slider && audCtrl) {\n            slider.value = (audCtrl.currentTime / audCtrl.duration) * 100;\n          }\n        }, 200)}\n      </div>\n      <audio controls className=\"d-none\" id=\"aud\">\n        <source src={currentSong} type=\"audio/ogg\" />\n        <source src={currentSong} type=\"audio/mpeg\" />\n        Your browser does not support the audio element.\n      </audio>\n\n      <input\n        type=\"range\"\n        min={0}\n        max={100}\n        defaultValue={0}\n        className=\"slider\"\n        id=\"myRange\"\n        onChange={handleSeek}\n      />\n\n      <div className=\"controlBoard\">\n        <img className=\"\" src={prevBtn} onClick={handlePrev} />\n        {!isPlaying ? (\n          <img className=\"mainBtns\" src={playBtn} onClick={handlePlay} />\n        ) : (\n          <img className=\"mainBtns\" src={pauseBtn} onClick={handlePause} />\n        )}\n        {isPlaying}\n        <img className=\"\" src={nextBtn} onClick={handleNext} />\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","export default __webpack_public_path__ + \"static/media/4.40f52f22.mp3\";","export default __webpack_public_path__ + \"static/media/play.30e64f55.svg\";","export default __webpack_public_path__ + \"static/media/pause.71f299a4.svg\";","export default __webpack_public_path__ + \"static/media/prev.d9000710.svg\";","export default __webpack_public_path__ + \"static/media/next.67303074.svg\";","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}